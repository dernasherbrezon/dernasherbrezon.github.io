<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>monitoring on dernasherbrezon</title>
    <link>https://dernasherbrezon.com/tags/monitoring/</link>
    <description>Recent content in monitoring on dernasherbrezon</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>ru</language>
    <lastBuildDate>Tue, 16 Dec 2025 20:24:18 +0100</lastBuildDate>
    <atom:link href="https://dernasherbrezon.com/tags/monitoring/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Самый надёжный сбор метрик</title>
      <link>https://dernasherbrezon.com/posts/offline-metrics-real/</link>
      <pubDate>Tue, 16 Dec 2025 20:24:18 +0100</pubDate>
      <guid>https://dernasherbrezon.com/posts/offline-metrics-real/</guid>
      <description>После нескольких месяцев использования MQTT для сборка метрик, я понял, что и эта конфигурация тоже не работает.&#xA;&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt; &lt;!DOCTYPE svg PUBLIC &#34;-//W3C//DTD SVG 1.1//EN&#34; &#34;http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd&#34;&gt; mqtt-collectormqtt-collectormosquittomosquittoRaspberry PIRaspberry PIinfluxdbinfluxdbCentral HostCentral HostServiceServiceServiceServiceCPUCPUpersist.dbpersist.dbjournaldjournalddata-collectordata-collectorLokiLokicheckpointcheckpoint Во-первых, хранение на диске реализовано очень плохо. Оно происходит периодически раз в autosave_interval, но при этом данные не удаляются из памяти! А при рестарте mosquitto полностью читает файл с диска в память. Такой дизайн подходит только для коротких проблемах с сетью.</description>
    </item>
    <item>
      <title>Надёжный сбор метрик</title>
      <link>https://dernasherbrezon.com/posts/offline-metrics/</link>
      <pubDate>Mon, 25 Aug 2025 18:18:18 +0100</pubDate>
      <guid>https://dernasherbrezon.com/posts/offline-metrics/</guid>
      <description>После нескольких месяцев эксплуатации fluent-bit для сборка метрик, я понял, что эта конфигурация совсем не работает. Я честно следовал инструкциям и читал исходный код, но оказалось, что буферизация во fluent-bit полностью сломана. Нет, она работает согласно документации, но вот на практике абсолютно бесполезна.&#xA;Во-первых, согласно документации fluent-bit (версия 4.0) сохраняет данные на диск небольшими кусочками. Эти кусочки (chunks) имеют максимальный размер - 2мб. На практике у меня всегда был размер 4кб.</description>
    </item>
    <item>
      <title>USB тестер A3-B</title>
      <link>https://dernasherbrezon.com/posts/smart-usb-meter-a3-b/</link>
      <pubDate>Thu, 06 Jan 2022 18:30:18 +0000</pubDate>
      <guid>https://dernasherbrezon.com/posts/smart-usb-meter-a3-b/</guid>
      <description>Совсем недавно я приобрёл USB тестер A3-B.&#xA;Это устройство позволяет измерять ток и напряжение, протекающее между USB-входом и USB-выходом. Одним концом можно воткнуть в зарядное устройство, другим в устройство и измерять ток потребления. Применений этому можно найти уйму:&#xA;измерять потребление тока в разных режимах: сна активной работы простоя измерять потребление во времени. Дисплей умеет переключаться в режим построения графика и показывать, как меняется потребление в течении некоторого времени. измерять общее потребление за промежуток времени.</description>
    </item>
    <item>
      <title>Счётчики и датчики</title>
      <link>https://dernasherbrezon.com/posts/gauge-and-counter-explained/</link>
      <pubDate>Mon, 22 Nov 2021 17:13:18 +0100</pubDate>
      <guid>https://dernasherbrezon.com/posts/gauge-and-counter-explained/</guid>
      <description>Любой, кто хотя бы раз сталкивался с системами мониторинга, знает, что существует два типа метрик: счётчики (counter) и датчики (gauge). Но не многие знают, зачем именно сделаны эти два типа.&#xA;Датчики Тип &amp;ldquo;датчик&amp;rdquo; используется для измерения текущего состояния. Обычно это число, которое может как увеличиваться, так и уменьшаться. Например, это могут быть измерения температуры, количество подключенных пользователей, load average и так далее. По сути, измерение любого стохастического процесса, про которого заранее ничего неизвестно.</description>
    </item>
    <item>
      <title>Создание Prometheus exporter</title>
      <link>https://dernasherbrezon.com/posts/writing-prometheus-exporter/</link>
      <pubDate>Mon, 09 Aug 2021 15:52:18 +0000</pubDate>
      <guid>https://dernasherbrezon.com/posts/writing-prometheus-exporter/</guid>
      <description>Prometheus - база данных для хранения метрик. Туда можно записать метрики производительности системы, роутеров, Java-приложений и многое другое. Если приложение не поддерживает протокол Prometheus для экспорта метрик, то можно взять один из готовых exporter&amp;rsquo;ов. Exporter - это небольшой прокси сервер, который берёт метрики из приложения в одном формате и выдаёт метрики в Prometheus формате. Но что, если готового exporter&amp;rsquo;а нет? Не беда - его можно написать!&#xA;8430FT 8430FT - это LTE-модем, который может раздавать интернет через Wi-Fi.</description>
    </item>
    <item>
      <title>Мониторинг Mikrotik роутеров с помощью Prometheus</title>
      <link>https://dernasherbrezon.com/posts/prometheus-monitoring-mikrotik/</link>
      <pubDate>Sat, 07 Aug 2021 06:50:18 +0100</pubDate>
      <guid>https://dernasherbrezon.com/posts/prometheus-monitoring-mikrotik/</guid>
      <description>Для начала вообще пара слов о том, зачем мониторить роутеры. Роутер, как и любое другое устройство, имеет аппаратные ресурсы, которые могут закончиться. Например, браузер стал медленнее открывать страницы или видео стало медленнее загружаться. Это может быть как из-за провайдера, так и из-за роутера. Возможно, к роутеру подключено слишком много устройств, и он стал медленнее, или параллельно кто-то качает слишком много - всё это может быть причиной замедления.&#xA;Большинство роутеров позволяют посмотреть загруженность ЦПУ или памяти прямо в админке.</description>
    </item>
    <item>
      <title>Логирование из Java в Journald</title>
      <link>https://dernasherbrezon.com/posts/journald-java/</link>
      <pubDate>Tue, 03 Sep 2019 21:22:18 +0100</pubDate>
      <guid>https://dernasherbrezon.com/posts/journald-java/</guid>
      <description>Недавно обнаружил одну интересную особенность journald, которую сразу же решил использовать в r2cloud.&#xA;Для начала немного о том, как вообще работает логирование. Большинство Linux дистрибутивов перешли на systemd. Эта система имеет множество различных фич, в том числе поддержку логирования - journald. Чем же это логирование лучше syslog:&#xA;Структурированные логи. Каждая запись в логе имеет некоторую мета-информацию. Например, уровень (INFO, DEBUG, ERROR), дату, сообщение и пр. В syslog же, запись в логе это строка текста, которую нужно правильно парсить.</description>
    </item>
    <item>
      <title>Мониторинг Raspberrypi</title>
      <link>https://dernasherbrezon.com/posts/raspberrypi-monitoring/</link>
      <pubDate>Mon, 31 Jul 2017 12:45:18 +0100</pubDate>
      <guid>https://dernasherbrezon.com/posts/raspberrypi-monitoring/</guid>
      <description>Возникла передо мной такая задача: сделать мониторинг Raspberry PI. И требования:&#xA;самодостаточность. Возможность показывать статус и исторические данные без доступа в интернет; работа в Java Embedded compact1 profile. Это всё по следам Java и без 16Gb памяти?. Анализ требований Здесь и далее под мониторингом системы я буду понимать сбор time series данных. Например, JVM heap size или количество обработанных сообщений за интервал.&#xA;Самодостаточность автоматически означает, что данные надо хранить локально. Отображать их надо в браузере, потому что уже есть вэб-админка для этого.</description>
    </item>
  </channel>
</rss>
