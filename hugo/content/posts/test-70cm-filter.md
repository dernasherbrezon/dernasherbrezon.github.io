---
title: "Тестирование 70см фильтра с помощью RTL-SDR"
date: 2020-06-20T17:30:18+01:00
draft: false
cover: /img/test-70cm-filter/0.jpg
tags:
  - rtlsdr
  - rtl_power
  - rtlSpectrum
  - тестирование
  - фильтры
---

[Последние наблюдения]({{< ref "rotator-for-r2cloud-2" >}}) показали, что у меня очень высокий уровень шума, если антенна направлена в центр города. У меня возникло предположение, что это связано со слишком сильными сигналами на соседних частотах. Если это так, то это значит, что GSM, FM и DVB перегрузили вход rtl-sdr, полностью заглушив слабые сигналы. Такое возможно, так как у rtl-sdr достаточно [низкий динамический диапазон]({{< ref "dynamic-range" >}}).

Для того, чтобы проверить теорию, я решил купить вот такой [фильтр на 70см](https://www.ebay.co.uk/itm/70cm-430-440MHz-Filter-EME-RTL-SDR/264521132435?pageci=fdb1adb1-62db-45fd-9a71-4029605d1ae3) и протестировать его.

![](/img/test-70cm-filter/0.jpg)

## Описание стенда

В [прошлый раз]({{< ref "test-fm-filter" >}}) я тестировал фм-фильтры. В этот раз я решил собрать такой же стенд и протестировать 70см фильтр.

![](/img/test-70cm-filter/1.jpg)

## Софт

rtl_power - программа из стандартной поставки [rtl-sdr](https://github.com/osmocom/rtl-sdr). Она позволяет сканировать большой диапазон частот, разбивая его участки примерно 2Mhz и выполняя быстрое преобразование фурье. После этого, результаты преобразуются в dbm.

[rtlSpectrum](http://github.com/dernasherbrezon/rtlSpectrum) - программа для анализа результатов rtl_power.

## Опыт 1

В этот раз я решил провести 2 опыта. Первый опыт заключался в том, чтобы протестировать фильтр с помощью генератора шума. Оба раза rtl_power запускался следующей командой:

```bash
rtl_power -f 24M:1.7G:1M -g 0 -i 3m -1
```

![](/img/test-70cm-filter/2.png)

На картинке выше, светло-оранжевый график - без использования фильтра, тёмно-оранжевый - с фильтром. Очень отчётливо видно, насколько классно отфильтрованы сигналы вне 430-440Мгц. При этом пик ~13.6dbm, а уровень шума ~24.3dbm.

## Опыт 2

Второй опыт заключался в том, чтобы подключить фильтр напрямую к антенне и померить результаты. Команда для запуска rtl_power немного отличается от первого опыта:

```bash
rtl_power -f 24M:1.7G:1M -g 35 -i 3m -1
```

![](/img/test-70cm-filter/3.png)

На этом графике видно, что FM и GSM диапазоны отлично отфильтрованы. Однако, на нём сложно разглядеть что же происходит в 70см диапазоне. Чтобы это исправить, я построил ещё один график, в котором вычел один из другого. В результате получилось:

![](/img/test-70cm-filter/4.png)

Теперь отчётливо видно, что диапазон 430-440Мгц остался нетронутым, а все остальные сигналы были отлично отфильтрованы.

## Полевые испытания

Следующим шагом я решил провести полевые испытания. Суть опыта достаточно проста: я прикрепил антенну параллельно земле и направил в центр города. После чего, измерил уровень шума в GQRX с фильтром и без.

Вот так выглядит спектограмма без фильтра:

![](/img/test-70cm-filter/5.png)

Уровень шума -40dbm и никаких сигналов не видно. А вот результат с использованием фильтра:

![](/img/test-70cm-filter/6.png)

Абсолютно те же настройки, но уровень шума значительно ниже и виден сигнал на -50dbm.

## Выводы

Фильтр работает. Я попробую погонять его пару дней, чтобы посмотреть улучшиться ли приём сигналов. Недостаток вполне очевидный - на него нельзя принимать 2м сигналы.